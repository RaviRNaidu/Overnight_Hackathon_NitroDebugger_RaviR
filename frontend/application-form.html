<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Application Form - Farmer Portal</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-logo">
                <i class="fas fa-seedling"></i>
                <span>Farmer Portal</span>
            </div>
            <ul class="nav-menu">
                <li><a href="dashboard.html"><i class="fas fa-home"></i> Dashboard</a></li>
                <li><a href="application-form.html" class="active"><i class="fas fa-file-alt"></i> Application Form</a></li>
                <li><a href="application-tracker.html"><i class="fas fa-search"></i> Application Tracker</a></li><li><a href="history.html"><i class="fas fa-history"></i> History</a></li><li><a href="fraud-analysis.html"><i class="fas fa-shield-alt"></i> Fraud Analysis</a></li>
                <li id="userInfo"></li><li><a href="#" onclick="logout(); return false;" class="btn-logout"><i class="fas fa-sign-out-alt"></i> Logout</a></li>
            </ul>
        </div>
    </nav>

    <div class="form-container">
        <div class="form-header">
            <i class="fas fa-file-alt"></i>
            <h1>Farmer Application Form</h1>
            <p>Fill in your details to apply for fertilizers and subsidies</p>
        </div>

        <div id="alertContainer"></div>

        <form id="applicationForm">
            <div class="form-row">
                <div class="form-group">
                    <label for="aadhaarNumber">Aadhaar Number *</label>
                    <input type="text" id="aadhaarNumber" name="aadhaarNumber" required 
                           placeholder="XXXX-XXXX-XXXX" maxlength="14" pattern="\d{4}-\d{4}-\d{4}">
                    <small id="aadhaarHelp" style="color: #64748b;">Enter your registered Aadhaar number</small>
                </div>
                <div class="form-group">
                    <button type="button" id="verifyAadhaarBtn" class="btn btn-primary" style="margin-top: 28px;">
                        <i class="fas fa-check-circle"></i> Verify Aadhaar
                    </button>
                </div>
            </div>

            <div id="aadhaarDetailsSection" style="display: none;">
                <div class="info-box" style="background: #d1fae5; padding: 15px; border-radius: 8px; margin: 20px 0; border-left: 4px solid #10b981;">
                    <h4 style="margin: 0 0 10px 0; color: #065f46;">
                        <i class="fas fa-user-check"></i> Aadhaar Details Verified
                    </h4>
                    <div id="verifiedDetails"></div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="farmerName">Farmer Name *</label>
                        <input type="text" id="farmerName" name="farmerName" required placeholder="Enter your full name" readonly style="background: #f3f4f6;">
                    </div>
                    <div class="form-group">
                        <label for="mobileNumber">Mobile Number *</label>
                        <input type="tel" id="mobileNumber" name="mobileNumber" required 
                               placeholder="10-digit mobile number" maxlength="10" pattern="\d{10}" readonly style="background: #f3f4f6;">
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="totalLandAcres">Total Land (Acres) *</label>
                        <input type="number" id="totalLandAcres" name="totalLandAcres" required 
                               placeholder="Auto-filled from Aadhaar" readonly style="background: #f3f4f6; font-weight: bold; color: #1e3a8a;">
                        <small id="landStatus" style="font-weight: bold;"></small>
                    </div>
                    <div class="form-group">
                        <label for="district">District *</label>
                        <input type="text" id="district" name="district" required readonly style="background: #f3f4f6;">
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="state">State *</label>
                        <input type="text" id="state" name="state" required readonly style="background: #f3f4f6;">
                    </div>
                    <div class="form-group">
                        <label for="address">Village/Address *</label>
                        <input type="text" id="address" name="address" required readonly style="background: #f3f4f6;">
                    </div>
                </div>
            </div>

            <div id="cropDetailsSection" style="display: none;">
                <div class="form-group">
                    <label for="cropType">Crop Type *</label>
                    <input type="text" id="cropType" name="cropType" required placeholder="e.g., Paddy, Wheat, Cotton, Sugarcane">
                    <small style="color: #64748b;">Enter crop type and wait for subsidy calculation</small>
                </div>

                <!-- Auto-calculated Quantities (Based on Crop Norms) - Hidden fields for submission -->
                <input type="hidden" id="fertilizerQty" name="fertilizerQty">
                <input type="hidden" id="seedQty" name="seedQty">
                
                <!-- Display Section for Subsidy Quantities -->
                <div id="allowedQuantitiesSection" class="info-box" style="display: none; background: #dbeafe; padding: 15px; border-radius: 8px; margin: 20px 0;">
                    <h4 style="margin: 0 0 10px 0; color: #1e3a8a;">
                        <i class="fas fa-spinner fa-spin"></i> Calculating subsidies...
                    </h4>
                </div>

                <button type="submit" class="btn btn-primary btn-full" style="margin-top: 20px;">
                    <i class="fas fa-paper-plane"></i> Submit Application
                </button>
            </div>
        </form>
    </div>

    <footer class="footer">
        <p>&copy; 2025 Department of Agriculture. All rights reserved.</p>
    </footer>

    <script src="auth.js"></script><script src="locations.js"></script><script src="app.js"></script>
</body>
</html>



